# Pull Request 撤銷功能測試文檔

## 功能概述

「撤銷當前 PR」功能位於 git-auto-pr.sh 的選項 3。

## 主要功能

1. **智慧偵測當前分支的 PR 狀態**

   - 檢查 PR 是否存在
   - 識別 PR 狀態（OPEN, MERGED, CLOSED）

2. **開放中 PR 的處理**

   - 關閉 PR（可添加關閉原因）
   - 可選擇是否刪除本地和遠端分支

3. **已合併 PR 的處理**
   - 顯示合併資訊和合併後的 commit 數量
   - 提供 revert 選項（預設為否）
   - 安全檢查：顯示 revert 可能影響的後續 commit

## 使用流程

```bash
./git-auto-pr.sh
# 選擇選項 3（撤銷當前 PR）
# 系統自動檢測並提供相應操作選項
```

## 安全特性

- 預設不執行破壞性操作（revert 預設為否）
- 顯示詳細資訊供用戶決策
- 提供清楚的影響範圍說明
- 支援中斷和錯誤處理

## 錯誤處理

- 檢查當前分支是否為主分支
- 檢查 PR 是否存在
- 提供備選選項（如檢查其他分支的 PR）

## 依賴需求

- GitHub CLI (gh) 已登入
- jq 工具（用於 JSON 解析）
- Git 倉庫環境
