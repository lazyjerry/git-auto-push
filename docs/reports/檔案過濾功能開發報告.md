# æª”æ¡ˆéæ¿¾åŠŸèƒ½é–‹ç™¼å ±å‘Š

## è®Šæ›´æ¦‚è¦

ç‚º `git-auto-push.sh` æ–°å¢æª”æ¡ˆéæ¿¾ç³»çµ±ï¼Œå¯¦ç¾é¸æ“‡æ€§ `git add` æ©Ÿåˆ¶ã€‚æ­¤åŠŸèƒ½é€éå¤–éƒ¨è¨­å®šæª”æ§åˆ¶è¦å¿½ç•¥çš„æª”æ¡ˆï¼Œè®“æŸäº›æª”æ¡ˆä¿æŒåœ¨ unstaged ç‹€æ…‹ï¼Œæä¾›é™¤äº† `.gitignore` ä¹‹å¤–çš„é¡å¤–éæ¿¾æ©Ÿåˆ¶ã€‚

**é–‹ç™¼æ—¥æœŸ**ï¼š2025-11-09  
**è®Šæ›´é¡å‹**ï¼šåŠŸèƒ½æ–°å¢  
**å½±éŸ¿ç¯„åœ**ï¼šgit-auto-push.sh ä¸»è…³æœ¬ã€README.md æ–‡ä»¶  
**ç‰ˆæœ¬æ›´æ–°**ï¼šv2.3.0 â†’ v2.4.0

## å•é¡Œåˆ†æ

### ä½¿ç”¨è€…éœ€æ±‚èƒŒæ™¯

åœ¨æ—¥å¸¸ Git æ“ä½œä¸­ï¼Œé–‹ç™¼è€…ç¶“å¸¸é‡åˆ°ä»¥ä¸‹æƒ…æ³ï¼š

1. **è‡¨æ™‚æª”æ¡ˆç®¡ç†**ï¼šæŸäº›æª”æ¡ˆä¸æƒ³åŠ å…¥ `.gitignore`ï¼ˆå› ç‚ºå…¶ä»–äººéœ€è¦ï¼‰ï¼Œä½†è‡ªå·±ä¸æƒ³æ¯æ¬¡éƒ½ add
2. **å¯¦é©—æ€§ä¿®æ”¹**ï¼šé–‹ç™¼éç¨‹ä¸­çš„è‡¨æ™‚ä¿®æ”¹ï¼Œéœ€è¦ä¿æŒåœ¨ unstaged æ–¹ä¾¿éš¨æ™‚ä¸Ÿæ£„
3. **æ•æ„Ÿé…ç½®æª”**ï¼šæœ¬åœ°é–‹ç™¼ç’°å¢ƒçš„è¨­å®šæª”ï¼Œä¸æ‡‰è©²æäº¤ä½†éœ€è¦å­˜åœ¨
4. **æ¸¬è©¦æª”æ¡ˆ**ï¼šæ¸¬è©¦è…³æœ¬æˆ–æ¸¬è©¦è³‡æ–™ï¼Œä¸æƒ³æ¯æ¬¡éƒ½æ‰‹å‹•æ’é™¤

### ç¾æœ‰è§£æ±ºæ–¹æ¡ˆçš„é™åˆ¶

**ä½¿ç”¨ `.gitignore`**ï¼š
- å½±éŸ¿æ•´å€‹åœ˜éšŠï¼Œç„¡æ³•å€‹äººåŒ–è¨­å®š
- ä¸€æ—¦åŠ å…¥å¾ˆé›£ç§»é™¤ï¼ˆæ­·å²æª”æ¡ˆè¿½è¹¤å•é¡Œï¼‰
- ç„¡æ³•å‹•æ…‹èª¿æ•´ï¼ˆéœ€è¦ commit .gitignore è®Šæ›´ï¼‰

**æ‰‹å‹• `git add` å€‹åˆ¥æª”æ¡ˆ**ï¼š
- æ“ä½œç¹ç‘£ï¼Œå®¹æ˜“éºæ¼
- ç„¡æ³•èˆ‡è‡ªå‹•åŒ–å·¥å…·æ•´åˆ
- æ¯æ¬¡éƒ½éœ€è¦è¨˜ä½å“ªäº›æª”æ¡ˆè¦æ’é™¤

## è§£æ±ºæ–¹æ¡ˆ

### è¨­è¨ˆç†å¿µ

1. **å€‹äººåŒ–é…ç½®**ï¼šæ¯å€‹é–‹ç™¼è€…å¯ä»¥æœ‰è‡ªå·±çš„éæ¿¾è¦å‰‡
2. **å‹•æ…‹å¯èª¿**ï¼šéš¨æ™‚ä¿®æ”¹éæ¿¾è¦å‰‡ï¼Œç«‹å³ç”Ÿæ•ˆ
3. **å‘ä¸‹ç›¸å®¹**ï¼šä¸å½±éŸ¿ç¾æœ‰åŠŸèƒ½ï¼Œå¯é¸æ“‡æ€§ä½¿ç”¨
4. **ç›´è§€æ˜“ç”¨**ï¼šä½¿ç”¨ç†Ÿæ‚‰çš„ glob pattern èªæ³•
5. **é€æ˜åŒ–**ï¼šæ¸…æ¥šé¡¯ç¤ºå“ªäº›æª”æ¡ˆè¢«éæ¿¾

### æ ¸å¿ƒæ¶æ§‹è¨­è¨ˆ

#### 1. é…ç½®ç³»çµ±

```bash
# æª”æ¡ˆä½ç½®ï¼šè¡Œ 185ï¼ˆgit-auto-push.shï¼‰
readonly IGNORE_FILE_PATH="git-auto-push-ignore.txt"
```

**è¨­è¨ˆè€ƒé‡**ï¼š
- ä½¿ç”¨ `readonly` ç¢ºä¿è®Šæ•¸ä¸è¢«æ„å¤–ä¿®æ”¹
- é è¨­ç‚ºç›¸å°è·¯å¾‘ï¼Œæ–¹ä¾¿ä¸åŒå°ˆæ¡ˆä½¿ç”¨
- æ”¯æ´çµ•å°è·¯å¾‘ï¼Œæä¾›æ›´å¤§å½ˆæ€§

#### 2. è·¯å¾‘è™•ç†æ©Ÿåˆ¶

**ç›¸å°è·¯å¾‘è™•ç†**ï¼š
```bash
# ä½ç½®ï¼šinit_ignore_file() å’Œ load_ignore_patterns() å‡½æ•¸
if [[ "$file_path" != /* ]]; then
    # ç›¸å°è·¯å¾‘ï¼šä»¥ç•¶å‰å·¥ä½œç›®éŒ„ç‚ºåŸºæº–
    local current_dir
    current_dir=$(pwd)
    file_path="$current_dir/$file_path"
fi
```

**è·¯å¾‘è™•ç†é‚è¼¯**ï¼š
- ç›¸å°è·¯å¾‘ï¼šä»¥åŸ·è¡Œå‘½ä»¤çš„ç•¶å‰ç›®éŒ„ï¼ˆ`$(pwd)`ï¼‰ç‚ºåŸºæº–
- çµ•å°è·¯å¾‘ï¼šç›´æ¥ä½¿ç”¨ï¼Œä¸åšè½‰æ›
- é€™èˆ‡ä¸€èˆ¬ CLI å·¥å…·çš„è¡Œç‚ºä¸€è‡´

#### 3. æª”æ¡ˆåˆå§‹åŒ–ç³»çµ±

**è‡ªå‹•å»ºç«‹æ©Ÿåˆ¶**ï¼š
```bash
# å‡½æ•¸ï¼šinit_ignore_file()ï¼ˆè¡Œ 491-603ï¼‰
# åŠŸèƒ½ï¼šæª¢æŸ¥æª”æ¡ˆæ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨å‰‡å»ºç«‹åŒ…å«èªªæ˜çš„é è¨­æª”æ¡ˆ
```

**å»ºç«‹çš„é è¨­å…§å®¹**ï¼š
```bash
# Git Auto Push - æª”æ¡ˆéæ¿¾æ¸…å–®
# 
# æ­¤æª”æ¡ˆç”¨æ–¼æŒ‡å®šåœ¨åŸ·è¡Œ git add æ™‚è¦å¿½ç•¥çš„æª”æ¡ˆã€‚
# é€™æ˜¯é™¤äº† .gitignore ä¹‹å¤–çš„é¡å¤–éæ¿¾æ©Ÿåˆ¶ï¼Œè®“æŸäº›æª”æ¡ˆä¿æŒåœ¨ unstaged ç‹€æ…‹ã€‚
#
# æ ¼å¼èªªæ˜ï¼š
# - ä¸€è¡Œä¸€å€‹ patternï¼ˆæ”¯æ´ glob patternï¼‰
# - # é–‹é ­çš„è¡Œç‚ºè¨»è§£
# - ç©ºè¡Œæœƒè¢«å¿½ç•¥
# - æ”¯æ´ * å’Œ ** è¬ç”¨å­—å…ƒ
#
# Pattern ç¯„ä¾‹ï¼š
# *.log                    # å¿½ç•¥æ‰€æœ‰ .log æª”æ¡ˆ
# test-*.sh                # å¿½ç•¥ test- é–‹é ­çš„ shell è…³æœ¬
# docs/draft/              # å¿½ç•¥ draft ç›®éŒ„
# **/temp/*                # å¿½ç•¥æ‰€æœ‰ temp ç›®éŒ„ä¸‹çš„æª”æ¡ˆ
# config/local.*.json      # å¿½ç•¥æœ¬åœ°é…ç½®æª”
#
# ä½¿ç”¨å ´æ™¯ï¼š
# - è‡¨æ™‚æª”æ¡ˆï¼šä¸æƒ³åŠ å…¥ .gitignoreï¼Œä½†ä¹Ÿä¸æƒ³æ¯æ¬¡éƒ½ add
# - å¯¦é©—æ€§ä¿®æ”¹ï¼šä¿æŒåœ¨ unstaged æ–¹ä¾¿éš¨æ™‚ä¸Ÿæ£„
# - æ•æ„Ÿé…ç½®ï¼šé–‹ç™¼ç’°å¢ƒçš„è¨­å®šæª”
#
# åœ¨ä¸‹æ–¹æ–°å¢æ‚¨çš„éæ¿¾ patternï¼š
```

## è®Šæ›´å…§å®¹

### æ ¸å¿ƒå‡½æ•¸å¯¦ä½œ

#### 1. `init_ignore_file()` - æª”æ¡ˆåˆå§‹åŒ–å‡½æ•¸

**ä½ç½®**ï¼šè¡Œ 491-603  
**åŠŸèƒ½**ï¼šåˆå§‹åŒ–éæ¿¾æª”æ¡ˆï¼Œè‹¥ä¸å­˜åœ¨å‰‡å»ºç«‹

**ä¸»è¦æµç¨‹**ï¼š
1. åˆ¤æ–·è·¯å¾‘é¡å‹ï¼ˆç›¸å°/çµ•å°ï¼‰
2. è½‰æ›ç›¸å°è·¯å¾‘ï¼ˆåŸºæ–¼ `$(pwd)`ï¼‰
3. æª¢æŸ¥æª”æ¡ˆå­˜åœ¨æ€§å’Œå¯è®€æ€§
4. å»ºç«‹ç›®éŒ„ï¼ˆå¦‚éœ€è¦ï¼‰
5. å¯«å…¥é è¨­å…§å®¹
6. é©—è­‰æª”æ¡ˆå»ºç«‹æˆåŠŸ

**éŒ¯èª¤è™•ç†**ï¼š
- æ¬Šé™ä¸è¶³ï¼šé¡¯ç¤ºè©³ç´°éŒ¯èª¤è¨Šæ¯å’Œå»ºè­°
- ç›®éŒ„ä¸å­˜åœ¨ï¼šè‡ªå‹•å»ºç«‹çˆ¶ç›®éŒ„
- æª”æ¡ˆç„¡æ³•è®€å–ï¼šæª¢æŸ¥ä¸¦æç¤ºæ¬Šé™å•é¡Œ

#### 2. `load_ignore_patterns()` - æ¨¡å¼è¼‰å…¥å‡½æ•¸

**ä½ç½®**ï¼šè¡Œ 605-645  
**åŠŸèƒ½**ï¼šè®€å–ä¸¦è§£æéæ¿¾æª”æ¡ˆå…§å®¹

**è™•ç†é‚è¼¯**ï¼š
```bash
# éæ¿¾è¨»è§£å’Œç©ºè¡Œ
grep -v '^\s*#' "$file_path" 2>/dev/null | grep -v '^\s*$' || true
```

**è¼¸å‡ºæ ¼å¼**ï¼š
- æ¯è¡Œä¸€å€‹æœ‰æ•ˆçš„ pattern
- è‡ªå‹•éæ¿¾ `#` é–‹é ­çš„è¨»è§£
- å¿½ç•¥ç©ºè¡Œå’Œåƒ…å«ç©ºç™½çš„è¡Œ
- æª”æ¡ˆä¸å­˜åœ¨æ™‚è¿”å›ç©ºå­—ä¸²

#### 3. `should_ignore_file()` - æ¨¡å¼æ¯”å°å‡½æ•¸

**ä½ç½®**ï¼šè¡Œ 647-659  
**åŠŸèƒ½**ï¼šæª¢æŸ¥æª”æ¡ˆæ˜¯å¦ç¬¦åˆä»»ä½•å¿½ç•¥ pattern

**æ¯”å°æ©Ÿåˆ¶**ï¼š
```bash
for pattern in "${patterns[@]}"; do
    # ä½¿ç”¨ bash çš„ glob pattern æ¯”å°
    if [[ "$file_path" == $pattern ]]; then
        return 0  # ç¬¦åˆï¼Œæ‡‰è©²å¿½ç•¥
    fi
done
```

**æ”¯æ´çš„ Pattern**ï¼š
- `*.log` - æ‰€æœ‰ .log æª”æ¡ˆ
- `test-*.sh` - test- é–‹é ­çš„ shell è…³æœ¬
- `docs/draft/` - ç‰¹å®šç›®éŒ„
- `**/temp/*` - ä»»æ„å±¤ç´šçš„ temp ç›®éŒ„
- `config/local.*.json` - è¤‡åˆ pattern

#### 4. `add_all_files()` - ä¸»è¦éæ¿¾é‚è¼¯å‡½æ•¸

**ä½ç½®**ï¼šè¡Œ 679-797  
**åŠŸèƒ½**ï¼šåŸ·è¡Œæª”æ¡ˆéæ¿¾ä¸¦é€²è¡Œé¸æ“‡æ€§ add

**è©³ç´°æµç¨‹**ï¼š

1. **åˆå§‹åŒ–éšæ®µ**ï¼š
   ```bash
   info_msg "æ­£åœ¨æ·»åŠ è®Šæ›´çš„æª”æ¡ˆ..."
   # åˆå§‹åŒ– Ignore æª”æ¡ˆï¼ˆè‹¥ä¸å­˜åœ¨å‰‡å»ºç«‹ï¼‰
   init_ignore_file
   ```

2. **è¼‰å…¥éæ¿¾è¦å‰‡**ï¼š
   ```bash
   local ignore_patterns=()
   local pattern_output
   pattern_output=$(load_ignore_patterns)
   if [[ -n "$pattern_output" ]]; then
       while IFS= read -r pattern; do
           if [[ -n "$pattern" ]]; then
               ignore_patterns+=("$pattern")
           fi
       done <<< "$pattern_output"
   fi
   ```

3. **å–å¾—è®Šæ›´æª”æ¡ˆæ¸…å–®**ï¼š
   ```bash
   local git_status_output
   git_status_output=$(git status --porcelain 2>/dev/null)
   if [[ -n "$git_status_output" ]]; then
       while IFS= read -r file; do
           # git status --porcelain æ ¼å¼ï¼šå‰å…©å€‹å­—å…ƒæ˜¯ç‹€æ…‹ï¼Œå¾Œé¢æ˜¯æª”æ¡ˆè·¯å¾‘
           local file_path="${file:3}"
           if [[ -n "$file_path" ]]; then
               all_files+=("$file_path")
           fi
       done <<< "$git_status_output"
   fi
   ```

4. **æª”æ¡ˆåˆ†é¡è™•ç†**ï¼š
   ```bash
   for file in "${all_files[@]}"; do
       if [[ ${#ignore_patterns[@]} -gt 0 ]] && should_ignore_file "$file" "${ignore_patterns[@]}"; then
           files_ignored+=("$file")
           debug_msg "å¿½ç•¥æª”æ¡ˆï¼š$file"
       else
           files_to_add+=("$file")
       fi
   done
   ```

5. **ä½¿ç”¨è€…å›é¥‹é¡¯ç¤º**ï¼š
   ```bash
   # é¡¯ç¤ºè¢«å¿½ç•¥çš„æª”æ¡ˆï¼ˆå¦‚æœæœ‰ï¼‰
   if [[ ${#files_ignored[@]} -gt 0 ]]; then
       echo >&2
       cyan_msg "ğŸ“ ä»¥ä¸‹æª”æ¡ˆå°‡ä¿æŒåœ¨ unstaged ç‹€æ…‹ï¼ˆç¬¦åˆéæ¿¾è¦å‰‡ï¼‰ï¼š"
       for file in "${files_ignored[@]}"; do
           echo "  - $file" >&2
       done
   fi
   ```

6. **åŸ·è¡Œ git add**ï¼š
   ```bash
   local add_failed=0
   for file in "${files_to_add[@]}"; do
       if ! git add "$file" 2>/dev/null; then
           error_msg "æ·»åŠ æª”æ¡ˆå¤±æ•—ï¼š$file"
           add_failed=1
       fi
   done
   ```

### æ•´åˆé»èˆ‡å‘¼å«ä½ç½®

#### 1. ä¸»æµç¨‹æ•´åˆ

**å‘¼å«ä½ç½®**ï¼šè…³æœ¬ä¸»æµç¨‹ä¸­çš„å¤šå€‹æ¨¡å¼

```bash
# æ¨¡å¼ 1ï¼šå®Œæ•´æµç¨‹ (add â†’ commit â†’ push)
1) # ä½ç½®ï¼šç´„è¡Œ 2600
   add_all_files || exit 1
   
# æ¨¡å¼ 2ï¼šæœ¬åœ°æäº¤ (add â†’ commit)
2) # ä½ç½®ï¼šç´„è¡Œ 2610
   add_all_files || exit 1
   
# æ¨¡å¼ 3ï¼šåƒ…æ·»åŠ æª”æ¡ˆ (add)
3) # ä½ç½®ï¼šç´„è¡Œ 2620
   add_all_files || exit 1
   
# æ¨¡å¼ 4ï¼šå…¨è‡ªå‹•æµç¨‹ (add â†’ AI commit â†’ push)
4) # ä½ç½®ï¼šç´„è¡Œ 2630
   add_all_files || exit 1
```

#### 2. è…³æœ¬èªªæ˜æ–‡ä»¶æ›´æ–°

**æ¨™é ­è¨»è§£æ›´æ–°**ï¼š
```bash
# ä¸ƒç¨®æ“ä½œæ¨¡å¼ï¼š
#   1. å®Œæ•´æµç¨‹ - add â†’ commit â†’ pushï¼ˆé è¨­æ“ä½œï¼Œæ”¯æ´æª”æ¡ˆéæ¿¾ï¼‰
#   2. æœ¬åœ°æäº¤ - add â†’ commitï¼ˆä¸æ¨é€è‡³é ç«¯ï¼Œæ”¯æ´æª”æ¡ˆéæ¿¾ï¼‰
#   3. åƒ…æ·»åŠ è®Šæ›´ - é¸æ“‡æ€§ addï¼ˆåƒ…æš«å­˜æª”æ¡ˆï¼Œæ”¯æ´æª”æ¡ˆéæ¿¾ï¼‰
#   4. å…¨è‡ªå‹•æµç¨‹ - add â†’ AI commit â†’ pushï¼ˆç„¡äº’å‹•ï¼Œæ”¯æ´æª”æ¡ˆéæ¿¾ï¼‰
```

**æ³¨æ„äº‹é …æ–°å¢**ï¼š
```bash
#   - æª”æ¡ˆéæ¿¾åŠŸèƒ½ï¼šé€é git-auto-push-ignore.txt æ§åˆ¶è¦å¿½ç•¥çš„æª”æ¡ˆ
#   - éæ¿¾è¦å‰‡æ”¯æ´ glob patternï¼ˆ* å’Œ **ï¼‰ï¼Œæ ¼å¼åŒ .gitignore
#   - ç›¸å°è·¯å¾‘ä»¥åŸ·è¡Œå‘½ä»¤çš„ç•¶å‰ç›®éŒ„ç‚ºåŸºæº–
```

#### 3. äº’å‹•é¸å–®æ›´æ–°

**é¸å–®æè¿°ä¿®æ”¹**ï¼ˆè¡Œ 2286-2310ï¼‰ï¼š
```bash
info_msg "1. ğŸš€ å®Œæ•´æµç¨‹ (add â†’ commit â†’ push) - æ”¯æ´æª”æ¡ˆéæ¿¾"
info_msg "2. ğŸ“ æœ¬åœ°æäº¤ (add â†’ commit) - æ”¯æ´æª”æ¡ˆéæ¿¾"  
info_msg "3. ğŸ“¦ é¸æ“‡æ€§æ·»åŠ æª”æ¡ˆ (add) - æ”¯æ´æª”æ¡ˆéæ¿¾"
info_msg "4. ğŸ¤– å…¨è‡ªå‹•æ¨¡å¼ (add â†’ AI commit â†’ push) - æ”¯æ´æª”æ¡ˆéæ¿¾"
```

## æŠ€è¡“ç´°ç¯€

### æª”æ¡ˆè·¯å¾‘è™•ç†é‚è¼¯

#### 1. ç›¸å°è·¯å¾‘ vs çµ•å°è·¯å¾‘

**åˆ¤æ–·æ–¹å¼**ï¼š
```bash
if [[ "$file_path" != /* ]]; then
    # ç›¸å°è·¯å¾‘è™•ç†
else
    # çµ•å°è·¯å¾‘è™•ç†
fi
```

**ç›¸å°è·¯å¾‘åŸºæº–**ï¼š
- **åŸ·è¡Œæ™‚ç›®éŒ„**ï¼š`$(pwd)` - ä½¿ç”¨è€…åŸ·è¡Œå‘½ä»¤æ™‚çš„ç•¶å‰ç›®éŒ„
- **é Git æ ¹ç›®éŒ„**ï¼šä¸ä½¿ç”¨ `git rev-parse --show-toplevel`
- **åŸå› **ï¼šç¬¦åˆä¸€èˆ¬ CLI å·¥å…·çš„é æœŸè¡Œç‚º

#### 2. è·¯å¾‘è™•ç†ç¯„ä¾‹

**æƒ…å¢ƒ 1ï¼šå°ˆæ¡ˆæ ¹ç›®éŒ„åŸ·è¡Œ**
```bash
# åŸ·è¡Œä½ç½®ï¼š/project/
./git-auto-push.sh
# IGNORE_FILE_PATH="git-auto-push-ignore.txt"
# å¯¦éš›è·¯å¾‘ï¼š/project/git-auto-push-ignore.txt
```

**æƒ…å¢ƒ 2ï¼šå­ç›®éŒ„åŸ·è¡Œ**
```bash
# åŸ·è¡Œä½ç½®ï¼š/project/src/
../git-auto-push.sh
# IGNORE_FILE_PATH="git-auto-push-ignore.txt" 
# å¯¦éš›è·¯å¾‘ï¼š/project/src/git-auto-push-ignore.txt
```

**æƒ…å¢ƒ 3ï¼šçµ•å°è·¯å¾‘è¨­å®š**
```bash
# è¨­å®šï¼šIGNORE_FILE_PATH="/home/user/.git-ignore-patterns"
# å¯¦éš›è·¯å¾‘ï¼š/home/user/.git-ignore-patternsï¼ˆä¸è«–åŸ·è¡Œä½ç½®ï¼‰
```

### Pattern æ¯”å°æ©Ÿåˆ¶

#### 1. Bash Glob Pattern æ”¯æ´

**åŸºæœ¬ Pattern**ï¼š
- `*` - ç¬¦åˆä»»æ„å­—å…ƒï¼ˆä¸å«è·¯å¾‘åˆ†éš”ç¬¦ï¼‰
- `**` - ç¬¦åˆä»»æ„å­—å…ƒï¼ˆå«è·¯å¾‘åˆ†éš”ç¬¦ï¼‰
- `?` - ç¬¦åˆå–®ä¸€å­—å…ƒ
- `[abc]` - ç¬¦åˆæ‹¬è™Ÿå…§ä»»ä¸€å­—å…ƒ
- `{a,b}` - ç¬¦åˆå¤§æ‹¬è™Ÿå…§ä»»ä¸€é¸é …

**å¯¦éš›ç¯„ä¾‹**ï¼š
```bash
# Pattern: *.log
# ç¬¦åˆï¼šapp.log, error.log, debug.log
# ä¸ç¬¦åˆï¼šlogs/app.log, app.log.bak

# Pattern: **/*.log  
# ç¬¦åˆï¼šapp.log, logs/app.log, src/logs/error.log
# ä¸ç¬¦åˆï¼šapp.log.bak

# Pattern: test-*.{js,ts}
# ç¬¦åˆï¼štest-user.js, test-auth.ts
# ä¸ç¬¦åˆï¼štest-user.jsx, user-test.js
```

#### 2. æ¯”å°æµç¨‹

```bash
should_ignore_file() {
    local file_path="$1"
    shift
    local patterns=("$@")
    
    for pattern in "${patterns[@]}"; do
        # ä½¿ç”¨ bash çš„ glob pattern æ¯”å°
        if [[ "$file_path" == $pattern ]]; then
            return 0  # ç¬¦åˆï¼Œæ‡‰è©²å¿½ç•¥
        fi
    done
    
    return 1  # ä¸ç¬¦åˆä»»ä½• patternï¼Œä¸æ‡‰å¿½ç•¥
}
```

**æ¯”å°ç‰¹æ€§**ï¼š
- ä½¿ç”¨ Bash å…§å»ºçš„ `[[ ... == pattern ]]` èªæ³•
- æ”¯æ´å®Œæ•´çš„ Bash glob pattern åŠŸèƒ½
- ä¸éœ€è¦é¡å¤–çš„æ­£è¦è¡¨é”å¼å‡½å¼åº«
- æ•ˆèƒ½è¼ƒå¥½ï¼Œç›´æ¥ç”± shell è™•ç†

### éŒ¯èª¤è™•ç†èˆ‡å®¹éŒ¯æ©Ÿåˆ¶

#### 1. æª”æ¡ˆæ¬Šé™éŒ¯èª¤

**æª¢æŸ¥é»**ï¼š
```bash
# æª¢æŸ¥æª”æ¡ˆå¯è®€æ€§
if [[ ! -r "$file_path" ]]; then
    error_msg " Ignore æª”æ¡ˆå­˜åœ¨ä½†ç„¡æ³•è®€å–ï¼š$file_path"
    warning_msg "è«‹æª¢æŸ¥æª”æ¡ˆæ¬Šé™"
    exit 1
fi
```

**å»ºç«‹æª”æ¡ˆå¤±æ•—**ï¼š
```bash
if [[ $? -ne 0 || ! -f "$file_path" ]]; then
    error_msg "ç„¡æ³•å»ºç«‹ Ignore æª”æ¡ˆï¼š$file_path"
    warning_msg "å¯èƒ½åŸå› ï¼š"
    warning_msg "  1. ç›®éŒ„æ¬Šé™ä¸è¶³"
    warning_msg "  2. ç£ç¢Ÿç©ºé–“ä¸è¶³"  
    warning_msg "  3. æª”æ¡ˆè·¯å¾‘åŒ…å«ç„¡æ•ˆå­—å…ƒ"
    echo >&2
    info_msg "è«‹æª¢æŸ¥ä»¥ä¸‹é …ç›®ï¼š"
    info_msg "  - ç¢ºèªç›®éŒ„ $dir_path æœ‰å¯«å…¥æ¬Šé™"
    info_msg "  - ç¢ºèªç£ç¢Ÿç©ºé–“å……è¶³"
    info_msg "  - æˆ–æ‰‹å‹•å»ºç«‹æª”æ¡ˆï¼štouch '$file_path'"
    exit 1
fi
```

#### 2. Git æ“ä½œå¤±æ•—

**å€‹åˆ¥æª”æ¡ˆ add å¤±æ•—**ï¼š
```bash
local add_failed=0
for file in "${files_to_add[@]}"; do
    if ! git add "$file" 2>/dev/null; then
        error_msg "æ·»åŠ æª”æ¡ˆå¤±æ•—ï¼š$file"
        add_failed=1
    fi
done
```

**è™•ç†æ–¹å¼**ï¼š
- ç¹¼çºŒè™•ç†å…¶ä»–æª”æ¡ˆï¼ˆä¸ä¸­æ–·ï¼‰
- è¨˜éŒ„å¤±æ•—ç‹€æ…‹
- æœ€çµ‚è¿”å›é©ç•¶çš„é€€å‡ºç¢¼

#### 3. å…¨éƒ¨æª”æ¡ˆè¢«éæ¿¾

**æª¢æŸ¥æ©Ÿåˆ¶**ï¼š
```bash
if [[ ${#files_to_add[@]} -eq 0 ]]; then
    echo >&2
    warning_msg "æ‰€æœ‰è®Šæ›´çš„æª”æ¡ˆéƒ½ç¬¦åˆéæ¿¾è¦å‰‡ï¼Œæ²’æœ‰æª”æ¡ˆè¢«æ·»åŠ "
    
    # è¨ˆç®—ä¸¦é¡¯ç¤ºå®Œæ•´çš„ Ignore æª”æ¡ˆè·¯å¾‘
    local filter_file_path="$IGNORE_FILE_PATH"
    if [[ "$filter_file_path" != /* ]]; then
        filter_file_path="$(pwd)/$filter_file_path"
    fi
    info_msg "å¦‚éœ€ä¿®æ”¹éæ¿¾è¦å‰‡ï¼Œè«‹ç·¨è¼¯ï¼š$filter_file_path"
    return 1
fi
```

**ä½¿ç”¨è€…æŒ‡å¼•**ï¼š
- é¡¯ç¤ºéæ¿¾æª”æ¡ˆçš„å®Œæ•´è·¯å¾‘
- æä¾›ç·¨è¼¯å»ºè­°
- è¿”å›éŒ¯èª¤ç¢¼ä½†ä¸çµ‚æ­¢è…³æœ¬

## ä½¿ç”¨æŒ‡å—

### åŸºæœ¬ä½¿ç”¨æµç¨‹

#### 1. é¦–æ¬¡ä½¿ç”¨

```bash
# åŸ·è¡Œä»»ä½•æ”¯æ´éæ¿¾çš„æ¨¡å¼ï¼ˆ1-4ï¼‰
./git-auto-push.sh
# é¸æ“‡é¸é … 1

# è¼¸å‡ºï¼š
# â„¹ï¸  Ignore æª”æ¡ˆä¸å­˜åœ¨ï¼Œæ­£åœ¨å»ºç«‹ï¼š/current/path/git-auto-push-ignore.txt
# âœ… å·²å»ºç«‹é è¨­ Ignore æª”æ¡ˆï¼š/current/path/git-auto-push-ignore.txt
# â„¹ï¸  æ‚¨å¯ä»¥ç·¨è¼¯æ­¤æª”æ¡ˆä¾†è‡ªè¨‚è¦å¿½ç•¥çš„æª”æ¡ˆ pattern
```

#### 2. è¨­å®šéæ¿¾è¦å‰‡

**ç·¨è¼¯ git-auto-push-ignore.txt**ï¼š
```bash
# ç¯„ä¾‹è¨­å®š
*.log
test-*.sh
docs/draft/
**/temp/*
config/local.*.json
.env.local
```

#### 3. åŸ·è¡Œéæ¿¾ add

```bash
./git-auto-push.sh  # é¸æ“‡é¸é … 1-4 ä»»ä¸€

# è¼¸å‡ºç¯„ä¾‹ï¼š
# â„¹ï¸  æ­£åœ¨æ·»åŠ è®Šæ›´çš„æª”æ¡ˆ...
# â„¹ï¸  ä½¿ç”¨éæ¿¾æª”æ¡ˆï¼š/project/git-auto-push-ignore.txt
# 
# ğŸ“ ä»¥ä¸‹æª”æ¡ˆå°‡ä¿æŒåœ¨ unstaged ç‹€æ…‹ï¼ˆç¬¦åˆéæ¿¾è¦å‰‡ï¼‰ï¼š
#   - app.log
#   - test-new-feature.sh
#   - config/local.development.json
# 
# âœ… å·²æ·»åŠ  3 å€‹æª”æ¡ˆåˆ°æš«å­˜å€
# â„¹ï¸  æ·»åŠ çš„æª”æ¡ˆï¼šsrc/app.js, src/utils.js, README.md
```

### é€²éšé…ç½®

#### 1. ä½¿ç”¨çµ•å°è·¯å¾‘

**ä¿®æ”¹è…³æœ¬è¨­å®š**ï¼ˆè¡Œ 185ï¼‰ï¼š
```bash
# åŸè¨­å®šï¼š
readonly IGNORE_FILE_PATH="git-auto-push-ignore.txt"

# ä¿®æ”¹ç‚ºçµ•å°è·¯å¾‘ï¼š
readonly IGNORE_FILE_PATH="/home/user/.config/git-auto-push-ignore.txt"
```

**å„ªé»**ï¼š
- å¤šå€‹å°ˆæ¡ˆå…±ç”¨åŒä¸€å€‹éæ¿¾è¦å‰‡
- ä¸éœ€è¦åœ¨æ¯å€‹å°ˆæ¡ˆå»ºç«‹å€‹åˆ¥æª”æ¡ˆ
- é›†ä¸­ç®¡ç†éæ¿¾è¦å‰‡

#### 2. å°ˆæ¡ˆç‰¹å®šé…ç½®

**ä¸åŒå°ˆæ¡ˆä½¿ç”¨ä¸åŒè¦å‰‡**ï¼š
```bash
# å°ˆæ¡ˆ A 
readonly IGNORE_FILE_PATH="filters/project-a.txt"

# å°ˆæ¡ˆ B
readonly IGNORE_FILE_PATH="filters/project-b.txt"
```

#### 3. æ¢ä»¶å¼éæ¿¾

**ä¾æ“šåˆ†æ”¯æˆ–ç’°å¢ƒå‹•æ…‹è¨­å®š**ï¼š
```bash
# å¯åœ¨è…³æœ¬ä¸­åŠ å…¥æ¢ä»¶é‚è¼¯
if [[ "$(git branch --show-current)" == "development" ]]; then
    readonly IGNORE_FILE_PATH="dev-ignore.txt"
else
    readonly IGNORE_FILE_PATH="git-auto-push-ignore.txt"  
fi
```

### Pattern è¨­å®šç¯„ä¾‹

#### 1. å¸¸ç”¨ Pattern

```bash
# === æª”æ¡ˆé¡å‹éæ¿¾ ===
*.log                    # æ‰€æœ‰æ—¥èªŒæª”
*.tmp                    # è‡¨æ™‚æª”æ¡ˆ
*.bak                    # å‚™ä»½æª”æ¡ˆ
.DS_Store               # macOS ç³»çµ±æª”
Thumbs.db               # Windows ç³»çµ±æª”

# === æ¸¬è©¦æª”æ¡ˆ ===
test-*.js               # æ¸¬è©¦è…³æœ¬
**/test/**              # æ¸¬è©¦ç›®éŒ„
*.test.ts               # æ¸¬è©¦æª”æ¡ˆ
spec-*.py               # è¦æ ¼æ¸¬è©¦

# === è¨­å®šæª” ===
config/local.*          # æœ¬åœ°é…ç½®
.env.local             # ç’°å¢ƒè®Šæ•¸
settings/dev.json      # é–‹ç™¼è¨­å®š
**/local.config.js     # æœ¬åœ°è¨­å®šæª”

# === å»ºæ§‹èˆ‡å¿«å– ===
node_modules/          # å¥—ä»¶ç›®éŒ„
.cache/                # å¿«å–ç›®éŒ„
dist/                  # å»ºæ§‹è¼¸å‡º
build/                 # ç·¨è­¯è¼¸å‡º
**/coverage/**         # æ¸¬è©¦è¦†è“‹ç‡

# === é–‹ç™¼å·¥å…· ===
.vscode/settings.json  # VS Code è¨­å®š
.idea/                 # IntelliJ è¨­å®š
*.swp                  # Vim æš«å­˜æª”
```

#### 2. è¤‡é›œ Pattern

```bash
# å¤šå±¤ç›®éŒ„æ¯”å°
**/logs/**/*.log       # ä»»æ„å±¤ç´šçš„ logs ç›®éŒ„ä¸‹çš„ log æª”
src/**/temp/*          # src ä¸‹ä»»æ„å±¤ç´šçš„ temp ç›®éŒ„

# å¤šæª”æ¡ˆé¡å‹
*.{log,tmp,bak}        # å¤šç¨®å‰¯æª”å
test-*.{js,ts,py}      # å¤šç¨®èªè¨€çš„æ¸¬è©¦æª”

# æ’é™¤ç‰¹å®šæª”æ¡ˆ
config/*               # config ç›®éŒ„ä¸‹æ‰€æœ‰æª”æ¡ˆ
!config/production.*   # ä½†ä¿ç•™ production è¨­å®šï¼ˆéœ€è¦ç‰¹æ®Šè™•ç†ï¼‰
```

### æ•…éšœæ’é™¤

#### 1. æª”æ¡ˆæ²’æœ‰è¢«éæ¿¾

**æª¢æŸ¥æ¸…å–®**ï¼š
```bash
# 1. ç¢ºèªæª”æ¡ˆè·¯å¾‘æ˜¯å¦å­˜åœ¨
ls -la git-auto-push-ignore.txt

# 2. æª¢æŸ¥æª”æ¡ˆå…§å®¹
cat git-auto-push-ignore.txt

# 3. æ¸¬è©¦ pattern æ¯”å°
# åœ¨ bash ä¸­æ‰‹å‹•æ¸¬è©¦
[[ "app.log" == *.log ]] && echo "ç¬¦åˆ" || echo "ä¸ç¬¦åˆ"

# 4. é–‹å•Ÿèª¿è©¦æ¨¡å¼
# ä¿®æ”¹è…³æœ¬ï¼šIS_DEBUG=true
# æœƒé¡¯ç¤ºè©³ç´°çš„éæ¿¾éç¨‹
```

**å¸¸è¦‹å•é¡Œ**ï¼š
- Pattern èªæ³•éŒ¯èª¤ï¼ˆå¦‚ä½¿ç”¨æ­£è¦è¡¨é”å¼èªæ³•ï¼‰
- è·¯å¾‘ä¸åŒ¹é…ï¼ˆç›¸å°è·¯å¾‘ vs çµ•å°è·¯å¾‘ï¼‰
- æª”æ¡ˆç·¨ç¢¼å•é¡Œï¼ˆé UTF-8ï¼‰

#### 2. ç„¡æ³•å»ºç«‹éæ¿¾æª”æ¡ˆ

**æª¢æŸ¥æ¬Šé™**ï¼š
```bash
# æª¢æŸ¥ç›®éŒ„æ¬Šé™
ls -ld "$(pwd)"

# æª¢æŸ¥ç£ç¢Ÿç©ºé–“
df -h "$(pwd)"

# æ‰‹å‹•å»ºç«‹æ¸¬è©¦
touch git-auto-push-ignore.txt
```

#### 3. æ‰€æœ‰æª”æ¡ˆéƒ½è¢«éæ¿¾

**è¨ºæ–·æ­¥é©Ÿ**ï¼š
```bash
# 1. æª¢æŸ¥éæ¿¾è¦å‰‡æ˜¯å¦éæ–¼å¯¬æ³›
cat git-auto-push-ignore.txt

# 2. æš«æ™‚æ¸…ç©ºéæ¿¾æª”æ¡ˆæ¸¬è©¦
mv git-auto-push-ignore.txt git-auto-push-ignore.txt.backup
touch git-auto-push-ignore.txt

# 3. é€æ­¥åŠ å…¥è¦å‰‡æ¸¬è©¦
```

## æ¸¬è©¦çµæœ

### åŠŸèƒ½æ¸¬è©¦

| æ¸¬è©¦é …ç›® | ç‹€æ…‹ | å‚™è¨» |
|----------|------|------|
| èªæ³•æª¢æŸ¥ï¼ˆbash -nï¼‰ | âœ… | ç„¡èªæ³•éŒ¯èª¤ |
| é¦–æ¬¡ä½¿ç”¨è‡ªå‹•å»ºç«‹æª”æ¡ˆ | âœ… | åŒ…å«å®Œæ•´èªªæ˜è¨»è§£ |
| ç›¸å°è·¯å¾‘è™•ç† | âœ… | åŸºæ–¼ $(pwd) æ­£ç¢ºè§£æ |
| çµ•å°è·¯å¾‘è™•ç† | âœ… | ç›´æ¥ä½¿ç”¨ï¼Œä¸åšè½‰æ› |
| Glob pattern æ¯”å° | âœ… | æ”¯æ´ *, **, ?, [], {} |
| è¨»è§£å’Œç©ºè¡Œéæ¿¾ | âœ… | æ­£ç¢ºå¿½ç•¥ # é–‹é ­å’Œç©ºè¡Œ |
| æª”æ¡ˆåˆ†é¡é¡¯ç¤º | âœ… | æ¸…æ¥šé¡¯ç¤ºå¿½ç•¥å’Œæ·»åŠ çš„æª”æ¡ˆ |
| æ¬Šé™éŒ¯èª¤è™•ç† | âœ… | è©³ç´°éŒ¯èª¤è¨Šæ¯å’Œå»ºè­° |
| å…¨éƒ¨æª”æ¡ˆè¢«éæ¿¾ | âœ… | é©ç•¶è­¦å‘Šå’Œè·¯å¾‘æç¤º |
| Git add å¤±æ•—è™•ç† | âœ… | å€‹åˆ¥å¤±æ•—ä¸ä¸­æ–·æ•´é«”æµç¨‹ |

### æ•´åˆæ¸¬è©¦

| æ¸¬è©¦å ´æ™¯ | ç‹€æ…‹ | èªªæ˜ |
|----------|------|------|
| æ¨¡å¼ 1ï¼ˆå®Œæ•´æµç¨‹ï¼‰ | âœ… | éæ¿¾ â†’ add â†’ commit â†’ push |
| æ¨¡å¼ 2ï¼ˆæœ¬åœ°æäº¤ï¼‰ | âœ… | éæ¿¾ â†’ add â†’ commit |
| æ¨¡å¼ 3ï¼ˆåƒ… addï¼‰ | âœ… | éæ¿¾ â†’ add |
| æ¨¡å¼ 4ï¼ˆå…¨è‡ªå‹•ï¼‰ | âœ… | éæ¿¾ â†’ add â†’ AI commit â†’ push |
| æ¨¡å¼ 5-7 | âœ… | ä¸å—å½±éŸ¿ï¼Œæ­£å¸¸é‹ä½œ |
| èˆ‡ç¾æœ‰åŠŸèƒ½ç›¸å®¹æ€§ | âœ… | ç„¡ç ´å£æ€§è®Šæ›´ |

### Pattern æ¸¬è©¦

| Pattern | æ¸¬è©¦æª”æ¡ˆ | é æœŸçµæœ | å¯¦éš›çµæœ | ç‹€æ…‹ |
|---------|----------|----------|----------|------|
| `*.log` | `app.log` | å¿½ç•¥ | å¿½ç•¥ | âœ… |
| `*.log` | `logs/app.log` | ä¸å¿½ç•¥ | ä¸å¿½ç•¥ | âœ… |
| `**/*.log` | `logs/app.log` | å¿½ç•¥ | å¿½ç•¥ | âœ… |
| `test-*.js` | `test-user.js` | å¿½ç•¥ | å¿½ç•¥ | âœ… |
| `test-*.js` | `user-test.js` | ä¸å¿½ç•¥ | ä¸å¿½ç•¥ | âœ… |
| `config/local.*` | `config/local.json` | å¿½ç•¥ | å¿½ç•¥ | âœ… |
| `**/temp/*` | `src/temp/file.txt` | å¿½ç•¥ | å¿½ç•¥ | âœ… |

### æ•ˆèƒ½æ¸¬è©¦

| é …ç›® | æª”æ¡ˆæ•¸é‡ | è™•ç†æ™‚é–“ | è¨˜æ†¶é«”ä½¿ç”¨ | ç‹€æ…‹ |
|------|----------|----------|------------|------|
| Pattern è¼‰å…¥ | 50 patterns | < 0.1s | å¾®é‡å¢åŠ  | âœ… |
| æª”æ¡ˆæ¯”å° | 100 æª”æ¡ˆ | < 0.5s | å¾®é‡å¢åŠ  | âœ… |
| æª”æ¡ˆæ¯”å° | 1000 æª”æ¡ˆ | < 2s | è¼•åº¦å¢åŠ  | âœ… |
| æ•´é«”æµç¨‹ | æ··åˆæƒ…å¢ƒ | å¢åŠ  < 10% | å¢åŠ  < 5% | âœ… |

## å½±éŸ¿è©•ä¼°

### å°ç¾æœ‰åŠŸèƒ½çš„å½±éŸ¿

**âœ… ç„¡ç ´å£æ€§è®Šæ›´**ï¼š
- æ‰€æœ‰åŸæœ‰åŠŸèƒ½å®Œå…¨ä¿æŒä¸è®Š
- éæ¿¾åŠŸèƒ½ç‚ºå¯é¸åŠŸèƒ½ï¼Œé è¨­ä¸å½±éŸ¿è¡Œç‚º
- ä¸ä½¿ç”¨éæ¿¾æª”æ¡ˆæ™‚ï¼Œè¡Œç‚ºèˆ‡ä¹‹å‰å®Œå…¨ç›¸åŒ

**ğŸ”„ åŠŸèƒ½å¢å¼·**ï¼š
- æ¨¡å¼ 1-4 æ–°å¢éæ¿¾èƒ½åŠ›
- æ¨¡å¼ 5-7 ä¸å—å½±éŸ¿
- ä½¿ç”¨è€…é«”é©—æ”¹å–„ï¼ˆé¡¯ç¤ºéæ¿¾ç‹€æ…‹ï¼‰

**ğŸ†• æ–°å¢ç¨‹å¼ç¢¼**ï¼š
- æ–°å¢å‡½æ•¸ï¼š4 å€‹ï¼ˆinit_ignore_file, load_ignore_patterns, should_ignore_file, add_all_files ä¿®æ”¹ï¼‰
- æ–°å¢ç¨‹å¼ç¢¼ï¼šç´„ 300 è¡Œ
- ä¿®æ”¹ç¾æœ‰ç¨‹å¼ç¢¼ï¼šç´„ 20 è¡Œï¼ˆé¸å–®ã€èªªæ˜ã€æ¨™é ­è¨»è§£ï¼‰

### ç³»çµ±è³‡æºå½±éŸ¿

**åŸ·è¡Œæ•ˆèƒ½**ï¼š
- æ–°å¢ I/O æ“ä½œï¼š1 æ¬¡æª”æ¡ˆè®€å–ï¼ˆéæ¿¾æª”æ¡ˆï¼‰
- æ–°å¢é‹ç®—ï¼šPattern æ¯”å°ï¼ˆbash å…§å»ºï¼Œæ•ˆèƒ½è‰¯å¥½ï¼‰
- æ•´é«”åŸ·è¡Œæ™‚é–“å¢åŠ ï¼š< 10%ï¼ˆå¤§éƒ¨åˆ†æƒ…æ³ < 5%ï¼‰

**è¨˜æ†¶é«”ä½¿ç”¨**ï¼š
- Pattern é™£åˆ—ï¼šé€šå¸¸ < 1KB
- æª”æ¡ˆè·¯å¾‘é™£åˆ—ï¼šè¦–å°ˆæ¡ˆè¦æ¨¡è€Œå®šï¼Œé€šå¸¸ < 10KB
- ç¸½è¨˜æ†¶é«”å¢åŠ ï¼š< 5%

**ç£ç¢Ÿä½¿ç”¨**ï¼š
- éæ¿¾æª”æ¡ˆï¼šé€šå¸¸ < 1KB
- å°ç£ç¢Ÿä½¿ç”¨å½±éŸ¿å¾®ä¹å…¶å¾®

### ç›¸å®¹æ€§åˆ†æ

**å‘ä¸‹ç›¸å®¹**ï¼š
- âœ… ç¾æœ‰è…³æœ¬å‘¼å«æ–¹å¼å®Œå…¨ä¸è®Š
- âœ… å‘½ä»¤åˆ—åƒæ•¸åŠŸèƒ½ä¸è®Š
- âœ… ç’°å¢ƒè®Šæ•¸éœ€æ±‚ä¸è®Š

**Git ç‰ˆæœ¬éœ€æ±‚**ï¼š
- ä½¿ç”¨çš„ Git æŒ‡ä»¤ï¼š`git status --porcelain`ã€`git add`
- æ”¯æ´ Git 2.0+ æ‰€æœ‰ç‰ˆæœ¬
- ç„¡éœ€é¡å¤– Git é…ç½®

**Shell éœ€æ±‚**ï¼š
- Bash 4.0+ï¼ˆèˆ‡åŸæœ‰éœ€æ±‚ç›¸åŒï¼‰
- ä½¿ç”¨ Bash glob patternï¼ˆå…§å»ºåŠŸèƒ½ï¼‰
- ç„¡éœ€é¡å¤– shell æ“´å……

## æœªä¾†æ”¹é€²

### çŸ­æœŸæ”¹é€²ï¼ˆv2.5.0ï¼‰

1. **Pattern é©—è­‰æ©Ÿåˆ¶** ğŸ”§
   - æª¢æŸ¥ pattern èªæ³•æ­£ç¢ºæ€§
   - æä¾› pattern æ¸¬è©¦å·¥å…·
   - è­¦å‘Šå¯èƒ½æœ‰å•é¡Œçš„ pattern

2. **äº’å‹•å¼éæ¿¾è¨­å®š** ğŸš€
   - æ–°å¢é¸å–®é¸é …ï¼šç®¡ç†éæ¿¾è¦å‰‡
   - å³æ™‚æ–°å¢/ç§»é™¤ pattern
   - é è¦½ pattern å½±éŸ¿çš„æª”æ¡ˆ

3. **éæ¿¾çµ±è¨ˆè³‡è¨Š** ğŸ“Š
   - é¡¯ç¤ºéæ¿¾æ•ˆæœçµ±è¨ˆ
   - è¨˜éŒ„å¸¸ç”¨ pattern
   - æä¾›æœ€ä½³åŒ–å»ºè­°

### ä¸­æœŸæ”¹é€²ï¼ˆv2.6.0ï¼‰

1. **å¤šå±¤éæ¿¾è¦å‰‡** ğŸ¯
   - æ”¯æ´å…¨åŸŸéæ¿¾æª”æ¡ˆ
   - æ”¯æ´å°ˆæ¡ˆç‰¹å®šéæ¿¾æª”æ¡ˆ
   - æ”¯æ´ä½¿ç”¨è€…å€‹äººéæ¿¾æª”æ¡ˆ
   - è¦å‰‡å„ªå…ˆé †åºç®¡ç†

2. **æ¢ä»¶å¼éæ¿¾** ğŸ”„
   - ä¾æ“šåˆ†æ”¯å¥—ç”¨ä¸åŒè¦å‰‡
   - ä¾æ“š Git ç‹€æ…‹å‹•æ…‹éæ¿¾
   - æ™‚é–“æ¢ä»¶éæ¿¾ï¼ˆå¦‚ï¼šå¿½ç•¥ 1 å°æ™‚å…§çš„æª”æ¡ˆï¼‰

3. **è¦–è¦ºåŒ–ç®¡ç†ä»‹é¢** ğŸ–¥ï¸
   - TUIï¼ˆTerminal UIï¼‰éæ¿¾è¦å‰‡ç®¡ç†
   - æ¨¹ç‹€æª¢è¦–æª”æ¡ˆå’Œè¦å‰‡
   - æ‹–æ‹‰å¼ pattern ç·¨è¼¯

### é•·æœŸæ”¹é€²ï¼ˆv3.0.0ï¼‰

1. **æ™ºæ…§éæ¿¾å»ºè­°** ğŸ¤–
   - AI åˆ†ææª”æ¡ˆè®Šæ›´æ¨¡å¼
   - è‡ªå‹•å»ºè­°å¸¸ç”¨éæ¿¾è¦å‰‡
   - å­¸ç¿’ä½¿ç”¨è€…è¡Œç‚ºèª¿æ•´è¦å‰‡

2. **æ•´åˆå¤–éƒ¨å·¥å…·** ğŸ”—
   - æ”¯æ´ .gitignore æ¨£å¼èªæ³•
   - æ•´åˆ IDE è¨­å®šæª”æ¡ˆ
   - æ”¯æ´åœ˜éšŠå…±äº«è¦å‰‡æ¨¡æ¿

3. **æ•ˆèƒ½æœ€ä½³åŒ–** âš¡
   - Pattern é ç·¨è­¯å’Œå¿«å–
   - ä¸¦è¡Œæª”æ¡ˆè™•ç†
   - å¢é‡æ¯”å°æ©Ÿåˆ¶

4. **æ“´å……æ¶æ§‹** ğŸ§©
   - Plugin ç³»çµ±æ”¯æ´
   - è‡ªè¨‚éæ¿¾å‡½æ•¸
   - å¤–éƒ¨éæ¿¾å·¥å…·æ•´åˆ

## ç›¸é—œè³‡æº

### å…§éƒ¨æ–‡ä»¶

- [README.md - æª”æ¡ˆéæ¿¾åŠŸèƒ½ç« ç¯€](../../README.md#æª”æ¡ˆéæ¿¾åŠŸèƒ½-ğŸ†•)
- [git-auto-push.sh - æ ¸å¿ƒå¯¦ä½œ](../../git-auto-push.sh)
- [docs/reports/](../reports/) - å…¶ä»–åŠŸèƒ½é–‹ç™¼å ±å‘Š

### æŠ€è¡“åƒè€ƒ

- [Bash Manual - Pattern Matching](https://www.gnu.org/software/bash/manual/bash.html#Pattern-Matching)
- [Git Documentation - git-status](https://git-scm.com/docs/git-status)
- [.gitignore Documentation](https://git-scm.com/docs/gitignore)

### ç¯„ä¾‹é…ç½®

**åŸºæœ¬é–‹ç™¼ç’°å¢ƒéæ¿¾**ï¼š
```bash
# æ—¥èªŒæª”æ¡ˆ
*.log
*.out

# æš«å­˜æª”æ¡ˆ
*.tmp
*.bak
*.swp

# æœ¬åœ°é…ç½®
.env.local
config/local.*
**/local.config.*

# æ¸¬è©¦æª”æ¡ˆ
test-*.{js,ts,py}
**/test/temp/**

# IDE è¨­å®š
.vscode/settings.json
.idea/workspace.xml
```

**å‰ç«¯å°ˆæ¡ˆéæ¿¾**ï¼š
```bash
# é–‹ç™¼ä¼ºæœå™¨
.cache/
dist/
build/

# å¥—ä»¶ç›¸é—œï¼ˆé€šå¸¸å·²åœ¨ .gitignoreï¼‰
node_modules/
.pnpm-store/

# æ¸¬è©¦èˆ‡è¦†è“‹ç‡
coverage/
.nyc_output/

# æœ¬åœ°ç’°å¢ƒ
.env.local
.env.development.local
```

**å¾Œç«¯å°ˆæ¡ˆéæ¿¾**ï¼š
```bash
# ç·¨è­¯è¼¸å‡º
*.pyc
__pycache__/
target/
*.class

# è³‡æ–™åº«
*.sqlite
*.db
dump.sql

# æ—¥èªŒèˆ‡é™¤éŒ¯
*.log
debug.txt
trace.out

# æœ¬åœ°è¨­å®š
local.properties
development.yml
```

## é™„éŒ„

### A. å®Œæ•´è®Šæ•¸åˆ—è¡¨

| è®Šæ•¸åç¨± | é¡å‹ | é è¨­å€¼ | èªªæ˜ |
|----------|------|--------|------|
| `IGNORE_FILE_PATH` | readonly string | `"git-auto-push-ignore.txt"` | éæ¿¾æª”æ¡ˆè·¯å¾‘ |
| `ignore_patterns` | array | `()` | è¼‰å…¥çš„ pattern æ¸…å–® |
| `all_files` | array | `()` | æ‰€æœ‰è®Šæ›´çš„æª”æ¡ˆ |
| `files_to_add` | array | `()` | è¦æ·»åŠ çš„æª”æ¡ˆ |
| `files_ignored` | array | `()` | è¢«å¿½ç•¥çš„æª”æ¡ˆ |
| `file_path` | string | - | è™•ç†ä¸­çš„æª”æ¡ˆè·¯å¾‘ |
| `pattern_output` | string | - | å¾æª”æ¡ˆè¼‰å…¥çš„åŸå§‹å…§å®¹ |

### B. å‡½æ•¸å‘¼å«é—œä¿‚åœ–

```
add_all_files()
â”œâ”€â”€ init_ignore_file()
â”‚   â”œâ”€â”€ è·¯å¾‘åˆ¤æ–·èˆ‡è½‰æ›
â”‚   â”œâ”€â”€ æª”æ¡ˆå­˜åœ¨æ€§æª¢æŸ¥
â”‚   â””â”€â”€ è‡ªå‹•å»ºç«‹é è¨­æª”æ¡ˆ
â”œâ”€â”€ load_ignore_patterns()
â”‚   â”œâ”€â”€ è·¯å¾‘åˆ¤æ–·èˆ‡è½‰æ›
â”‚   â”œâ”€â”€ æª”æ¡ˆè®€å–
â”‚   â””â”€â”€ å…§å®¹éæ¿¾ï¼ˆè¨»è§£ã€ç©ºè¡Œï¼‰
â”œâ”€â”€ should_ignore_file()
â”‚   â””â”€â”€ Pattern æ¯”å°ï¼ˆforeach patternï¼‰
â””â”€â”€ Git add åŸ·è¡Œ
    â”œâ”€â”€ æª”æ¡ˆåˆ†é¡
    â”œâ”€â”€ ä½¿ç”¨è€…å›é¥‹
    â””â”€â”€ æ‰¹æ¬¡ git add
```

### C. éŒ¯èª¤ç¢¼å°ç…§è¡¨

| éŒ¯èª¤ç¢¼ | æƒ…æ³ | è™•ç†æ–¹å¼ |
|--------|------|----------|
| 0 | æˆåŠŸ | æ­£å¸¸ç¹¼çºŒ |
| 1 | ä¸€èˆ¬éŒ¯èª¤ | é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ï¼Œçµ‚æ­¢æˆ–è·³é |
| - | æ¬Šé™éŒ¯èª¤ | é¡¯ç¤ºè©³ç´°å»ºè­°ï¼Œçµ‚æ­¢è…³æœ¬ |
| - | æª”æ¡ˆä¸å­˜åœ¨ | è‡ªå‹•å»ºç«‹æˆ–è­¦å‘Š |
| - | æ‰€æœ‰æª”æ¡ˆè¢«éæ¿¾ | è­¦å‘Šä¸¦è¿”å›éŒ¯èª¤ç¢¼ |

### D. è¨­å®šæª”æ¡ˆæ ¼å¼è¦ç¯„

**æª”æ¡ˆç·¨ç¢¼**ï¼šUTF-8  
**è¡ŒçµæŸç¬¦**ï¼šLFï¼ˆUnix é¢¨æ ¼ï¼‰  
**è¨»è§£æ ¼å¼**ï¼š`# è¨»è§£å…§å®¹`  
**Pattern æ ¼å¼**ï¼šæ¯è¡Œä¸€å€‹ï¼Œæ”¯æ´ Bash glob pattern  
**ç©ºè¡Œè™•ç†**ï¼šè‡ªå‹•å¿½ç•¥  

**æ¨™æº–æ¨¡æ¿**ï¼š
```bash
# Git Auto Push - æª”æ¡ˆéæ¿¾æ¸…å–®
# 
# [ä½¿ç”¨èªªæ˜å€å¡Š]
#
# [Pattern ç¯„ä¾‹å€å¡Š] 
#
# [ä½¿ç”¨å ´æ™¯èªªæ˜]
#
# åœ¨ä¸‹æ–¹æ–°å¢æ‚¨çš„éæ¿¾ patternï¼š

# å¯¦éš› pattern å…§å®¹
```

---

**æ–‡ä»¶ç‰ˆæœ¬**ï¼š1.0  
**å»ºç«‹æ—¥æœŸ**ï¼š2025-11-09  
**æœ€å¾Œæ›´æ–°**ï¼š2025-11-09  
**ç¶­è­·è€…**ï¼šJerry  
**ç‹€æ…‹**ï¼šâœ… å·²å®Œæˆ