# Git Auto-Push 全自動模式使用指南

## 🤖 全自動模式功能

全自動模式是 git-auto-push.sh v1.3 的新功能，提供完全無人干預的 Git 工作流程自動化。

## 🚀 使用方法

### 方法 1：互動式選擇

```bash
./git-auto-push.sh
# 然後選擇選項 4: 🤖 全自動模式 (add → AI commit → push)
```

### 方法 2：命令行參數

```bash
# 使用長參數
./git-auto-push.sh --auto

# 使用短參數
./git-auto-push.sh -a
```

## 📋 執行流程

全自動模式會執行以下步驟，**無需任何用戶交互**：

1. **檢查 Git 倉庫** - 確認當前目錄是 Git 倉庫
2. **顯示變更** - 列出所有檔案變更
3. **添加檔案** - 執行 `git add .` 添加所有變更
4. **AI 生成 commit message** - 自動調用 AI 工具分析變更並生成訊息
5. **自動提交** - 使用 AI 生成的訊息執行 `git commit`
6. **自動推送** - 執行 `git push` 推送到遠端倉庫

## 🤖 AI 工具優先順序

全自動模式會按以下順序嘗試 AI 工具：

1. **Codex** (優先) - OpenAI 的程式碼助手，通常最穩定
2. **Gemini** - Google 的 AI 工具，可能遇到頻率限制
3. **Claude** - Anthropic 的 AI 助手，需要登入認證

如果所有 AI 工具都失敗，會使用預設訊息：`"自動提交：更新專案檔案"`

## 💡 使用場景

### 🔸 快速原型開發

```bash
# 在快速開發過程中，每次修改後一鍵提交推送
./git-auto-push.sh -a
```

### 🔸 自動化腳本整合

```bash
#!/bin/bash
# 在自動化腳本中整合
echo "更新文檔" > README.md
./git-auto-push.sh --auto
```

### 🔸 定期備份

```bash
# 定時任務中使用
0 */6 * * * cd /path/to/project && ./git-auto-push.sh -a
```

## ⚠️ 注意事項

### 安全考量

- **檢查變更**：全自動模式會自動提交所有變更，使用前請確認暫存區內容
- **敏感資訊**：確保不包含密碼、API key 等敏感資訊
- **程式碼品質**：AI 生成的 commit message 可能不夠精確，重要項目建議手動檢查

### 最佳實踐

- **小步提交**：頻繁使用全自動模式，保持變更集較小
- **定期檢查**：定期檢查 Git 歷史記錄，確保 commit message 合理
- **備份策略**：重要專案建議配合其他備份方案

## 🔧 故障排除

### AI 工具無法使用

```bash
# 檢查 AI 工具狀態
./check-ai-tools.sh

# 手動測試 AI 工具
codex exec "test"
gemini -p "test"
claude -p "test"
```

### 網路問題

- 確保網路連線穩定
- 檢查防火牆設定
- 嘗試使用 VPN

### 認證問題

```bash
# Claude 需要登入
claude /login

# 檢查其他工具的認證狀態
```

## 📊 範例輸出

```
🤖 命令行啟用全自動模式
Git 自動添加推送到遠端倉庫工具
==================================================
檢測到以下變更:
 M README.md
 M src/main.js
正在添加所有變更的檔案...
檔案添加成功！
🤖 執行全自動 Git 工作流程...
💡 提示：全自動模式將使用 AI 生成 commit message 並自動完成所有步驟
🤖 全自動模式：正在使用 AI 工具分析變更並生成 commit message...
🔄 自動使用 AI 工具: codex
✅ 自動使用 codex 生成的 commit message:
🔖 feat: 更新 README 文檔並優化主要功能

==================================================
🤖 全自動提交資訊:
📝 Commit Message: feat: 更新 README 文檔並優化主要功能
==================================================
正在提交變更...
提交成功！
正在推送到遠端倉庫...
成功推送到遠端分支: master

==================================================
🎉 全自動工作流程執行完成！
📊 執行摘要：
   ✅ 檔案已添加到暫存區
   ✅ 使用 AI 生成 commit message
   ✅ 變更已提交到本地倉庫
   ✅ 變更已推送到遠端倉庫
==================================================
```

## 🎯 總結

全自動模式讓 Git 工作流程更加簡化，特別適合：

- 快速原型開發
- 文檔更新
- 自動化腳本
- 個人項目管理

結合 AI 工具的智能 commit message 生成，讓版本控制變得更加輕鬆！
